@page "/researcher-dashboard"

<MudLayout>
    <!-- Sidebar Drawer -->
    <MudDrawer @bind-Open="@drawerOpen" Elevation="2" Variant="@DrawerVariant.Persistent" Style="background: #f8f9fa;">
        <MudDrawerHeader Style="background: white;">
            <MudStack Spacing="1">
                <MudText Typo="Typo.h6" Style="font-weight: 700; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    ResearchConnect
                </MudText>
                <MudText Typo="Typo.caption" Color="Color.Secondary">Researcher Portal</MudText>
            </MudStack>
        </MudDrawerHeader>
        
        <MudNavMenu Style="padding: 1rem 0.5rem;">
            <MudNavLink Href="/researcher-dashboard" 
                        Icon="@Icons.Material.Filled.Dashboard" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Dashboard
            </MudNavLink>
            
            <MudNavLink Href="/post-study" 
                        Icon="@Icons.Material.Filled.PostAdd" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Post a Study
            </MudNavLink>
            
            <MudNavLink Href="/map" 
                        Icon="@Icons.Material.Filled.PersonSearch" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Find Participants
            </MudNavLink>
            
            <MudNavLink Href="/invite" 
                        Icon="@Icons.Material.Filled.Email" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Invite
            </MudNavLink>
            
            <MudNavLink Href="/contact" 
                        Icon="@Icons.Material.Filled.ContactMail" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Contact
            </MudNavLink>
            
            <MudNavLink Href="/profile" 
                        Icon="@Icons.Material.Filled.Person" 
                        IconColor="Color.Primary"
                        Style="border-radius: 12px; margin-bottom: 0.5rem; font-weight: 500;">
                Profile
            </MudNavLink>
            
            <MudDivider Class="my-4" />
            
            <MudNavLink Href="/logout" 
                        Icon="@Icons.Material.Filled.Logout" 
                        IconColor="Color.Error"
                        Style="border-radius: 12px; font-weight: 500;">
                Logout
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <MudAppBar Elevation="1" Style="background: white;">
        <MudText Typo="Typo.h2">Welcome back Dr John!</MudText>
    </MudAppBar>

    <MudMainContent Style="background: #f5f7fa;">
        <MudContainer MaxWidth="MaxWidth.Large" Class="my-5">
            <MudText Class="my-5" Typo="Typo.h2">Overview</MudText>

            <MudStack Row="true" Spacing="5">
                <MudPaper Elevation="2" Class="dashboard-card">
                    <MudIcon Style="background-color: #D398E7" Class="dashboard-card-icon" Icon="@Icons.Material.Rounded.BarChart" />
                    <MudText Typo="Typo.subtitle1">Total Research Studies Completed</MudText>
                    <MudText Typo="Typo.h4">53</MudText>
                </MudPaper>

                <MudPaper Elevation="2" Class="dashboard-card">
                    <MudIcon Style="background-color: #E89271" Class="dashboard-card-icon" Icon="@Icons.Material.Rounded.HomeWork" />
                    <MudText Typo="Typo.subtitle1">Active Case Studies</MudText>
                    <MudText Typo="Typo.h4"><span style="font-size: 50px;">3</span>/10</MudText>
                </MudPaper>

                <MudPaper Elevation="2" Class="dashboard-card">
                    <MudIcon Style="background-color: #F0C274" Class="dashboard-card-icon" Icon="@Icons.Material.Rounded.Person" />
                    <MudText Typo="Typo.subtitle1">Resources</MudText>
                    <MudText Typo="Typo.h4"><span style="font-size: 50px;">101</span>/120</MudText>
                </MudPaper>
            </MudStack>

            <MudGrid Class="my-5">
                <MudItem md="8">
                    <MudPaper Elevation="2" Class="dashboard-card">
                        <MudGrid>
                            <MudItem md="6">
                                <MudText Typo="Typo.h5">Active Studies</MudText>
                            </MudItem>

                            <MudItem md="6">
                                <MudStack Row="true" Spacing="3">
                                    <MudSelect Value="@("Studies")" Variant="Variant.Outlined" T="string">
                                        <MudSelectItem T="string">Studies</MudSelectItem>
                                    </MudSelect>

                                    <MudSelect Value="@("Participants")" Variant="Variant.Outlined" T="string">
                                        <MudSelectItem T="string">Participants</MudSelectItem>
                                    </MudSelect>

                                    <MudSelect Value="@("Status")" Variant="Variant.Outlined" T="string">
                                        <MudSelectItem T="string">Status</MudSelectItem>
                                    </MudSelect>
                                </MudStack>
                            </MudItem>
                        </MudGrid>

                        <table class="project-table mt-4" role="table" aria-label="Project status table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Participants</th>
                                    <th>Due date</th>
                                    <th>Status</th>
                                    <th>Progress</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="name">Nelsa web development</td>
                                    <td>Om prakash sao</td>
                                    <td>May 25, 2023</td>
                                    <td><span class="pill completed">Completed</span></td>
                                    <td>
                                        <div class="progress" style="--percent:100; --ring:#28a745;">
                                            <span class="progress-inner">100%</span>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="name">Datascale AI app</td>
                                    <td>Neilson mando</td>
                                    <td>Jun 20, 2023</td>
                                    <td><span class="pill delayed">Delayed</span></td>
                                    <td>
                                        <div class="progress" style="--percent:35; --ring:#f1c40f;">
                                            <span class="progress-inner">35%</span>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="name">Media channel branding</td>
                                    <td>Tiruvelly priya</td>
                                    <td>July 13, 2023</td>
                                    <td><span class="pill atrisk">At risk</span></td>
                                    <td>
                                        <div class="progress" style="--percent:68; --ring:#ff4d4f;">
                                            <span class="progress-inner">68%</span>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="name">Corlax iOS app developement</td>
                                    <td>Matte hannery</td>
                                    <td>Dec 20, 2023</td>
                                    <td><span class="pill completed">Completed</span></td>
                                    <td>
                                        <div class="progress" style="--percent:100; --ring:#28a745;">
                                            <span class="progress-inner">100%</span>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="name">Website builder developement</td>
                                    <td>Sukumar rao</td>
                                    <td>Mar 15, 2024</td>
                                    <td><span class="pill ongoing">On going</span></td>
                                    <td>
                                        <div class="progress" style="--percent:50; --ring:#6c5ce7;">
                                            <span class="progress-inner">50%</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </MudPaper>
                </MudItem>

                <MudItem md="4">
                    <MudPaper Elevation="2" Class="dashboard-card">
                        hello world
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code
{
    bool drawerOpen = true;

    private void ToggleDrawer()
    {
        drawerOpen = !drawerOpen;
    }
}